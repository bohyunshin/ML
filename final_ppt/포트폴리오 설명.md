### 포트폴리오에 대한 설명



### 1. 비정형 데이터를 활용한 ICT 산업 전망

프로젝트 수행 역할 이 프로젝트의 목적은 뉴스 기사를 통해 ICT 수출액을 예측하는 지수를 개발하는 것입니다. 프로젝트는 첫째, 비정형 데이터를 정형데이터로 변환하여 뉴스기사의 주제와 감정을 분류하는 모형을 개발하고 둘째, 개발한 모형을 통해 ICT 수출액을 예측하는 단계로 진행되었습니다. 저는 이 중에서 첫 단계에 역할을 배정 받아서 뉴스 기사를 word2vec을 통해 벡터로 표현하고, 이를 입력 값으로 하여 뉴스 기사의 주제 (수요, 공급, 경쟁력) 및 감정 (긍정, 부정)을 분류하는 모형을 개발하였습니다. 이때 모형으로는 Random Forest, logistic regression을 사용하였습니다. 모형을 통해 분기별 신문 기사의 주제, 감정 분류를 한 뒤에 테스트 데이터의 매 분기 주제별, 감정별 개수를 파악하여 현재 ICT 트렌드와 가장 맞는 주제를 수요라고 판단했습니다. 18년까지 ICT 반도체에 대한 수요가 증가했고 19년 하반기에 감소하였는데, 이러한 경향성을 '수요' 주제가 잘 나타내었기 때문입니다. 마지막으로 수요 주제인 신문 기사들의 감정 점수를 정의하여, 분기별 감정 점수를 계산하였고, 전 분기 대비 현 분기의 감정 점수 비를 예측변수로, 전 분기 대비 현 분기의 수출액 비를 반응 변수로하여 비 회귀 (Ratio Regression)을 하여 수정 결정 계수가 0.93인 예측 모형을 만들었습니다.
이 프로젝트는 비정형 데이터를 정형 데이터와 어떻게 결합할 것인지, 그리고 ICT 산업 전망이라는 다소 추상적인 주제 아래서, 반응 변수를 정하고 이와 관련된 지수를 개발하는 점이 다소 어렵게 다가왔습니다. 하지만 흔히, 숫자로 구성된 엑셀로 주어지는 데이터가 아니라 현업에서 덜 가공된 데이터를 제공하고 관련 주제를 구체화하는 과정을 직접 해보았다는 점에서 이 프로젝트를 통해 한 단계 더 성장하였음을 느꼈습니다.

피피티 링크: 정부 기관과 협력하여 진행했기 때문에 비공개 자료입니다.



### 2. 재방문 요인 분석

프로젝트 수행 역할 제가 365mc 병원에서 데이터 분석 인턴으로 일을 했을 때 진행했던 프로젝트입니다. 병원 프로세스를 이해하고 주제를 직접 설정해야 했는데, 저는 병원의 수익과 관련된 사항이 중요하다고 생각하여 수술을 한번 진행한 고객(신환 고객)과 여러번 진행한 고객(재환 고객)을 분류하고 여기에 어떤 요인이 영향을 미칠지 분석하는 프로젝트를 했었습니다. 이 프로젝트는 저 혼자 진행한 것이기 때문에 주제 선정부터 SQL에서 흩어져있는 변수를 선택하고 전처리 및 모델링까지 모든 과정을 저 혼자서 진행했습니다.
주제를 정하고 나니, 관련된 변수를 선택하는 것이 꽤나 힘들었습니다. 왜냐하면 캐글과 같이 csv 파일로 반응변수와 예측변수가 같이 존재하는 것이 아니라 SQL 서버 상에서 테이블들이 흩어져 있었고 따라서 제가 원하는 변수들도 한 곳에 없었기 때문입니다. 저는 이렇게 정해지지 않은 변수를 선택하는 단계에서 병원의 프로세스를 끊임없이 생각하였습니다. 고객이 어느 시간대에 많이 오고 어느 상담사와 상담을 했으며 첫 수술까지 몇 번의 방문을 했고 수술 의사와 감량된 지방량, 수술 전, 후의 BMI 지수의 차이, 수술 후 병원에 몇 번 방문하여 후관리를 얼마나 했는지 등 고객이 처음 병원에 와서 오지 않을 때까지의 전 과정을 생각하며 이를 SQL 서버에서 찾았습니다.
주제를 정하고 모델링 이전에 1기 행동 데이터를 이용해서 클러스터링을 함으로써 여러 집단의 특성을 파악하였습니다. 예를 들어 BMI 지수가 23.6 정도 되는 20대 중반 고객(집단 1)은 수술 비용과 감량 지방량이 모두 높은데 BMI 지수가 23.34 정도 되는 40대 초반 고객(집단 2)은 병원에 가장 적게 오지만 수술 비용과 감량 지방량이 큰 것으로 파악됐습니다. 그리고 집단 1의 이탈 비율이 집단 2의 이탈 비율보다 더 높은 것으로 나타났습니다. 클러스터링 분석을 통해서 특성이 다른 여러 집단이 존재하고, 집단 별로 이탈이 상이함을 확인하였습니다.
마지막으로 신환 고객과 재환 고객을 분류하는 모델링을 진행하였습니다. 관련 분야에 대한 지식이 없는 사람들이 읽을 것으로 생각하였으므로 적당한 정확도를 가지면서 해석 가능한 결과를 내는 RandomForest로 최종 모형을 선택하였습니다. 정확도는 0.73이고 모형에 중요 변수는 수술 금액, 감량 지방량, 수술 후 BMI, 기초대사량 등이었습니다. RandomForest의 장점은 모형에 중요 변수를 파악함과 동시에, 테스트 데이터를 분류할 때 중요하게 사용된 변수를 tree interpreter을 통해서 실무자에게 보여줄 수 있다는 점입니다. 저는 이를 활용하여 고객별 데이터가 주어졌을 때, 이 고객이 신환일지, 고객일지에 대한 확률을 계산하고 이 확률이 계산되는데 주요하게 영향을 미친 변수를 같이 출력하여 최대한 해석 가능한 형태로 실무자에게 전달하고자 하였습니다.

[피피티 링크는 여기를 클릭하세요.](https://github.com/bohyunshin/ML/blob/master/final_ppt/인턴프로젝트%20최종%20ppt.pdf)



### 3. 캐글 프로젝트 (불량 중고차 분류하기)

프로젝트 수행 역할 제가 학회 활동을 했을 때 처음으로 했던 캐글 프로젝트로, 주제는 매입한 중고차의 불량 여부를 예측하는 것이었습니다. 이 주제는 크게 두 가지 어려운 점이 있었습니다. 첫 번째는 불균형 데이터라는 점입니다. 불량인 중고차는 우량인 중고차에 비해 그 수가 현저히 적습니다. 이러한 불균형 데이터에 대해서 일반적인 분류 모델링을 한다면 다수를 차지하는 클래스쪽으로 모델이 편향되어 학습 될 수 있습니다. 다음으로 범주형 변수가 많다는 점입니다. 일반적으로 범주형 변수에는 더미 변수를 생성하여 모델링을 진행합니다. 그런데 한 범주형 변수에서 클래스가 20개 이상이 되니까 생성되는 칼럼의 개수도 19개 이상이 되었으며 0의 값을 많이 가지는, 굉장히 고차원이고 sparse한 행렬이 만들어졌습니다. 이러한 데이터를 가공하지 않고 바로 모델링을 진행한다면 여러 문제점이 발생할 수 있습니다. 예를 들어 tree 계열 모형에서는 범주형 변수가 많으면 한 쪽으로만 tree가 형성되는 등의 문제가 있습니다.
저는 이 프로젝트에서 모델링 파트를 맡았으므로 이 두 문제점에 대해서 고민했습니다. 우선 불균형 문제는 cross validation을 하면서 동시에oversampling을 함으로써 어느 정도 해결하였습니다. 만약 C/V 이전에 oversampling을 한다면 과적합의 위험이 있으므로 반드시 cross validation을 하는 중에 해야한다는 내용을 찾았기 때문입니다.
다음으로 범주형 변수가 많음에 따라 고차원 행렬이 만들어지는 문제점에 대해서 고민하였습니다. 이는 각 범주형 변수의 범주를 binning을 통해서 줄이거나 변수 선택을 통해 범주형 변수를 취사선택하는 등의 해결방안이 있었는데, 그럼에도 차원이 여전히 높았습니다. 이러한 이유로, 최종 모형을 catboost로 선정하였습니다. catboost는 boosting 계열의 모형으로, 범주형 변수를 더미 변수로 바꾸지 않아도 되어서, 범주형 변수가 많을 경우에 차원을 효과적으로 유지할 수 있는 기법입니다. 비록 boosting 계열 모형을 사용함으로써 해석보다는 blackbox 측면을 더 많이 가졌지만, 프로젝트의 목적이 관련 지식을 가지지 않은 사람에게 결과를 전달하는 것이 아닌, 예측을 잘하기 위함이었으므로 catboost 모형을 선택하였습니다.
이러한 과정을 거쳐서, 저희 팀은 3등이라는 상당히 높은 등수를 달성하였습니다. 처음 해보는 데이터 분석 프로젝트여서 발생하는 문제점을 파악하고 해결사항을 찾는데 꽤 힘이 들었지만, 이런 과정을 거치며 어떤 식으로 문제에 접근해서 어떤 키워드로 검색을하고 어떻게 해결하는지 경험해보는 소중한 경험이었습니다.

[피피티 링크는 여기를 클릭하세요.](https://github.com/bohyunshin/ML/blob/master/final_ppt/캐글%20최종%20ppt.pdf)

